<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Dynamic QR Code Generator</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrious/4.0.2/qrious.min.js"></script>
</head>
<body>
<h2>Dynamic QR Code Generator</h2>

<label>Enter QR ID:</label><br>
<input id="qrid" placeholder="example: promo1"><br><br>

<button onclick="makeQR()">Generate QR Code</button>

<div id="qr"></div>

<script>
// Map QR IDs to friendly display names
const qrNames = {
    "promo1": "Discount Voucher",
    "promo2": "Special Offer",
    "Promo 1": "Bing Search Example"
};

function makeQR() {
    let id = document.getElementById("qrid").value.trim();
    if (!id) {
        alert("Please enter a QR ID!");
        return;
    }

    let encodedID = encodeURIComponent(id);
    let finalURL = window.location.origin + "/Dynamic-QR-/redirect.html?id=" + encodedID;

    // Generate QR code
    let qr = new QRious({ value: finalURL, size: 250 });

    // Display QR code and friendly name
    let displayName = qrNames[id] || finalURL; // use friendly name if exists
    document.getElementById("qr").innerHTML =
        `<h3>Your QR Code:</h3>
        <img src="${qr.toDataURL()}">
        <p>Points to:<br><strong>${displayName}</strong></p>`;
}
</script>
</body>
</html>
